version: '2.1'
services:
    elasticsearch: 
        image: elasticsearch:7.0.0
        volumes:
            - ./es_data:/usr/share/elasticsearch/data
        environment: 
            - discovery.type=single-node
        ports:
            - 9200:9200
            - 9300:9300

    kibana:
        image: kibana:7.0.0
        ports:
            - 5601:5601
        environment:
            SERVER_NAME: kibana.example.org
            ELASTICSEARCH_HOSTS: http://elasticsearch:9200
        depends_on:
            - elasticsearch